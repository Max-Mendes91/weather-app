<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather Now</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;500;600;700&family=Bricolage+Grotesque:wght@700&display=swap"
    rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            neutral: {
              900: 'hsl(243, 96%, 9%)',
              800: 'hsl(243, 27%, 20%)',
              700: 'hsl(243, 23%, 24%)',
              600: 'hsl(243, 23%, 30%)',
              300: 'hsl(240, 6%, 70%)',
              200: 'hsl(250, 6%, 84%)',
              0: 'hsl(0, 0%, 100%)',
            },
            orange: {
              500: 'hsl(28, 100%, 52%)',
            },
            blue: {
              500: 'hsl(233, 67%, 56%)',
              700: 'hsl(248, 70%, 36%)',
            }
          },
          fontFamily: {
            'dm-sans': ['DM Sans', 'sans-serif'],
            'bricolage': ['Bricolage Grotesque', 'sans-serif'],
          }
        }
      }
    }
  </script>
  <style>
    body {
      font-family: 'DM Sans', sans-serif;
    }

    .heading {
      font-family: 'Bricolage Grotesque', sans-serif;
    }
  </style>
</head>

<body class="bg-neutral-900 text-neutral-0 min-h-screen">
  <!-- Header -->
  <div class="p-4 md:p-6 flex justify-between items-center border-b border-neutral-800">
    <div class="flex items-center gap-2">
      <img src="./assets/images/logo.svg" alt="Weather Now" class="w-20 h-10 md:w-40 md:h-20">
    </div>
    <div class="relative">
      <button
        class="border border-neutral-500 hover:border-blue-500 text-neutral-300 px-3 py-2 rounded font-medium transition-colors text-sm md:text-base flex items-center gap-2"
        id="unitsBtn">
        ⚙️ Units
      </button>

      <!-- Units Dropdown -->
      <div id="unitsDropdown"
        class="hidden absolute top-12 right-0 bg-neutral-800 rounded-lg shadow-xl z-50 w-64 border border-neutral-700">
        <div class="p-4 space-y-4">
          <!-- Switch to Imperial Header -->
          <div class="text-center pb-3 border-b border-neutral-700">
            <p class="text-neutral-400 text-xs font-bold">SWITCH TO IMPERIAL</p>
          </div>

          <!-- Temperature -->
          <div>
            <h5 class="text-xs font-bold text-neutral-300 mb-3 uppercase">Temperature</h5>
            <label class="flex items-center gap-3 p-2 rounded hover:bg-neutral-700 cursor-pointer mb-2">
              <input type="radio" name="temperature" value="celsius" class="unit-radio w-4 h-4" checked>
              <span class="text-neutral-300 text-sm flex-1">Celsius (°C)</span>
              <span class="text-neutral-400 text-xs">✓</span>
            </label>
            <label class="flex items-center gap-3 p-2 rounded hover:bg-neutral-700 cursor-pointer">
              <input type="radio" name="temperature" value="fahrenheit" class="unit-radio w-4 h-4">
              <span class="text-neutral-300 text-sm flex-1">Fahrenheit (°F)</span>
            </label>
          </div>

          <!-- Wind Speed -->
          <div class="border-t border-neutral-700 pt-3">
            <h5 class="text-xs font-bold text-neutral-300 mb-3 uppercase">Wind Speed</h5>
            <label class="flex items-center gap-3 p-2 rounded hover:bg-neutral-700 cursor-pointer mb-2">
              <input type="radio" name="wind" value="kmh" class="unit-radio w-4 h-4" checked>
              <span class="text-neutral-300 text-sm flex-1">km/h</span>
              <span class="text-neutral-400 text-xs">✓</span>
            </label>
            <label class="flex items-center gap-3 p-2 rounded hover:bg-neutral-700 cursor-pointer">
              <input type="radio" name="wind" value="mph" class="unit-radio w-4 h-4">
              <span class="text-neutral-300 text-sm flex-1">mph</span>
            </label>
          </div>

          <!-- Precipitation -->
          <div class="border-t border-neutral-700 pt-3">
            <h5 class="text-xs font-bold text-neutral-300 mb-3 uppercase">Precipitation</h5>
            <label class="flex items-center gap-3 p-2 rounded hover:bg-neutral-700 cursor-pointer mb-2">
              <input type="radio" name="precipitation" value="mm" class="unit-radio w-4 h-4" checked>
              <span class="text-neutral-300 text-sm flex-1">Millimeters (mm)</span>
              <span class="text-neutral-400 text-xs">✓</span>
            </label>
            <label class="flex items-center gap-3 p-2 rounded hover:bg-neutral-700 cursor-pointer">
              <input type="radio" name="precipitation" value="inches" class="unit-radio w-4 h-4">
              <span class="text-neutral-300 text-sm flex-1">Inches (in)</span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="p-4 md:p-8 max-w-7xl mx-auto">
    <!-- Title -->
    <h1 class="heading text-3xl md:text-5xl  mb-6 md:mb-8 text-center md:text-center">
      How's the sky looking today?
    </h1>

    <!-- Search Bar -->
    <div class="mb-6 md:mb-8 relative flex justify-center">
      <div class="flex gap-2 w-full max-w-2xl">
        <div class="relative flex-1">
          <input type="text" id="searchInput" placeholder="Search for a place..."
            class="w-full bg-neutral-800 text-neutral-0 placeholder-neutral-400 px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 border border-neutral-700">
          <!-- Search Results Dropdown -->
          <div id="searchResults"
            class="hidden absolute top-full left-0 right-0 mt-2 bg-neutral-800 rounded-lg shadow-xl z-50 border border-neutral-700 max-h-64 overflow-y-auto">
            <!-- Results will be rendered here by JavaScript -->
          </div>
        </div>
        <button id="searchBtn"
          class="bg-blue-500 hover:bg-blue-700 text-neutral-0 px-6 py-3 rounded-lg font-medium transition-colors text-sm md:text-base">
          Search
        </button>
      </div>
    </div>

    <!-- Main Grid: Desktop 3 cols, Mobile stacked -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6">

      <!-- Left + Middle Column -->
      <div class="lg:col-span-2 space-y-4 md:space-y-6">

        <!-- Current Weather Card -->
        <div class="rounded-2xl p-6 md:p-8 relative overflow-hidden"
          style="background-image: url('./assets/images/bg-today-large.svg'); background-size: cover; background-position: center; background-color: hsl(248, 70%, 36%);">
          <!-- Fallback gradient if image fails to load -->
          <div class="absolute inset-0 bg-gradient-to-br from-blue-700 to-blue-500 opacity-80"></div>

          <!-- Decorative dots -->
          <div class="absolute top-4 right-8 w-2 h-2 bg-white rounded-full opacity-40 z-20"></div>
          <div class="absolute top-12 left-8 w-2 h-2 bg-white rounded-full opacity-30 z-20"></div>
          <div class="absolute bottom-8 right-12 w-3 h-3 bg-orange-500 rounded-full opacity-70 z-20"></div>

          <div class="relative z-30">
            <div class="flex justify-between items-start md:items-center mb-8 md:mb-12">
              <div>
                <h2 class="heading text-xl md:text-2xl font-bold mb-1" id="locationName"></h2>
                <p class="text-blue-200 text-sm md:text-base font-light" id="dateDisplay"></p>
              </div>
              <!-- Weather Icon - Image from assets -->
              <img id="currentWeatherIcon" src="./assets/images/icon-sunny.webp" alt="Weather"
                class="w-16 h-16 md:w-20 md:h-20">
            </div>

            <div class="flex justify-between items-end">
              <div>
                <p class="text-blue-200 text-xs md:text-sm mb-2">Temperature</p>
                <p class="heading text-5xl md:text-6xl font-bold" id="currentTemp" data-temp-c="20">20°</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Weather Details Grid -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4">
          <div class="bg-neutral-800 rounded-xl p-4 md:p-6 border border-neutral-700">
            <p class="text-neutral-400 text-xs md:text-sm mb-2 font-medium">Feels Like</p>
            <p class="heading text-2xl md:text-3xl font-bold" id="feelsLike" data-temp-c="18">18°</p>
          </div>
          <div class="bg-neutral-800 rounded-xl p-4 md:p-6 border border-neutral-700">
            <p class="text-neutral-400 text-xs md:text-sm mb-2 font-medium">Humidity</p>
            <p class="heading text-2xl md:text-3xl font-bold" id="humidity">46%</p>
          </div>
          <div class="bg-neutral-800 rounded-xl p-4 md:p-6 border border-neutral-700">
            <p class="text-neutral-400 text-xs md:text-sm mb-2 font-medium">Wind</p>
            <p class="heading text-2xl md:text-3xl font-bold" id="windSpeed" data-wind-kmh="14">14 km/h</p>
          </div>
          <div class="bg-neutral-800 rounded-xl p-4 md:p-6 border border-neutral-700">
            <p class="text-neutral-400 text-xs md:text-sm mb-2 font-medium">Precipitation</p>
            <p class="heading text-2xl md:text-3xl font-bold" id="precipitation" data-precip-mm="0">0 mm</p>
          </div>
        </div>

        <!-- Daily Forecast -->
        <div>
          <h3 class="heading text-lg md:text-xl font-bold mb-4">Daily forecast</h3>
          <!-- DYNAMIC: JavaScript will render all 7 day cards here -->
          <div id="dailyForecastContainer" class="grid grid-cols-4 sm:grid-cols-5 md:grid-cols-7 gap-2">
            <!-- Day cards will be created dynamically -->
          </div>
        </div>
      </div>

      <!-- Right Column: Hourly Forecast -->
      <div>
        <div class="bg-neutral-800 rounded-2xl p-4 md:p-6 border border-neutral-700 sticky top-4">
          <div class="flex justify-between items-center mb-4 md:mb-6">
            <h3 class="heading text-base md:text-lg font-bold">Hourly forecast</h3>
      
            <!-- Day Dropdown for Hourly -->
          <div class="relative">
            <button id="hourlyDaySelector"
              class="bg-neutral-700 text-neutral-400 hover:text-neutral-0 text-xs md:text-sm font-medium transition-colors px-3 py-1 rounded flex items-center gap-2">
              <span id="dayText"></span>
              <img src="./assets/images/icon-dropdown.svg" alt="dropdown" class="w-4 h-4">
            </button>
      
              <!-- Day Selection Dropdown -->
              <div id="daySelectionDropdown"
                class="hidden absolute top-full right-0 mt-2 bg-neutral-700 rounded-lg shadow-xl z-50 border border-neutral-600 min-w-32">
                <div class="py-2">
                  <!-- Days will be rendered here by JavaScript -->
                </div>
              </div>
              </div>
              </div>
      
          <!-- DYNAMIC: Hourly items will be rendered here by JavaScript -->
          <div id="hourlyForecastContainer"
            class="space-y-2 md:space-y-3 max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-neutral-600 scrollbar-track-transparent">
            <!-- Hour items will be created dynamically -->
          </div>
        </div>
      </div>
      
      <style>
        /* Custom thin scrollbar styling */
        #hourlyForecastContainer::-webkit-scrollbar {
          width: 4px;
        }
      
        #hourlyForecastContainer::-webkit-scrollbar-track {
          background: transparent;
        }
      
        #hourlyForecastContainer::-webkit-scrollbar-thumb {
          background: hsl(243, 23%, 30%);
          border-radius: 2px;
        }
      
        #hourlyForecastContainer::-webkit-scrollbar-thumb:hover {
          background: hsl(243, 23%, 40%);
        }
      </style>
      
      </div>
      </div>
      
      <script src="script.js"></script>
      </body>
      
      </html>